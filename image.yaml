schema_version: 1

from: "rhel7:7.5-released"

name: "redhat-openjdk-18/openjdk18-openshift"
description: "Source To Image (S2I) image for Red Hat OpenShift providing OpenJDK 1.8"
version: "1.6"

labels:
- name: "com.redhat.component"
  value: "redhat-openjdk-18-openjdk18-openshift-container"
- name: io.k8s.description
  value: "Platform for building and running plain Java applications (fat-jar and flat classpath)"
- name: io.k8s.display-name
  value: "Java Applications"
- name: io.openshift.tags
  value: "builder,java"
- name: usage
  value: "https://access.redhat.com/documentation/en-us/red_hat_jboss_middleware_for_openshift/3/html/red_hat_java_s2i_for_openshift/"

envs:
- name: PATH
  value: $PATH:"/usr/local/s2i"

ports:
- value: 8080
- value: 8443

packages:
      repositories:
            # Below two repositories are required to be defined to generate proper
            # configuration files for OSBS
          - name: base
            id: rhel-7-server-rpms
          - name: scl
            id: rhel-server-rhscl-7-rpms
            # This definition is currently required, because the one of the used
            # modules uses the "jboss-rhscl" name. This will be removed once the module
            # will be updated.
          - name: jboss-rhscl
            id: rhel-server-rhscl-7-rpms
modules:
  repositories:
  - name: cct_module
    git:
      url: https://github.com/jboss-openshift/cct_module.git
      ref: master
  install:
  - name: jboss.container.openjdk.jdk
    version: "8"
  - name: jboss.container.java.s2i.bash

osbs:
  repository:
    name: containers/redhat-openjdk-18
    branch: jb-openjdk-1.8-openshift-rhel-7
